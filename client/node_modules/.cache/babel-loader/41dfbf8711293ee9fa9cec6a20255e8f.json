{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\VS Code\\\\DA_OSS\\\\client\\\\src\\\\pages\\\\BrowserPage.js\";\nimport React, { Component } from 'react';\nimport '../css/BrowserPage.css';\nimport axios from \"axios\";\nimport GameCard from \"../components/GameCard\";\nexport default class Browser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        sort: e.target.value\n      });\n      console.log(e.target.value);\n      axios.post(\"http://localhost:5000/games/sort/\" + this.state.typeSelected + \"/\" + e.target.value).then(res => {\n        this.setState({\n          games: res.data\n        });\n        alert(\"Load successfully.\");\n      }).catch(err => console.log(err));\n    };\n\n    this.showGames = this.showGames.bind(this);\n    this.showPages = this.showPages.bind(this);\n    this.getData = this.getData.bind(this);\n    this.state = {\n      types: [],\n      games: [],\n      typeSelected: 0,\n      pages: [],\n      sort: 0\n    };\n  }\n\n  async showGames(e) {\n    var types = document.querySelectorAll('.BrowserPage > div:last-child > div');\n    types.forEach(type => {\n      type.style.border = \"0\";\n    });\n    e.target.style.border = \"1px solid white\";\n    this.setState({\n      typeSelected: e.target.getAttribute(\"name\")\n    });\n    let idType = e.target.getAttribute('name');\n    await axios.get(\"http://localhost:5000/types/\" + idType).then(res => {\n      this.setState({\n        games: res.data\n      });\n      alert(\"Load successfully.\");\n    }).catch(err => console.log(err));\n    this.showPages();\n    axios.post(\"http://localhost:5000/games/sort/\" + idType + \"/0/1\").then(res => {\n      this.setState({\n        games: res.data\n      });\n      alert(\"Load successfully.\");\n    });\n  }\n\n  async componentDidMount() {\n    await axios.get(\"http://localhost:5000/types/get/names\").then(res => {\n      this.setState({\n        types: res.data\n      });\n    }).catch(err => console.log(err));\n    console.log(this.state.types);\n    await axios.get(\"http://localhost:5000/games/\").then(res => {\n      this.setState({\n        games: res.data\n      });\n      alert(\"Load successfully.\");\n    }).catch(err => console.log(err));\n    this.showPages(await this.state.games);\n    axios.post(\"http://localhost:5000/games/sort/0/0/1\").then(res => {\n      this.setState({\n        games: res.data\n      });\n      alert(\"Load successfully.\");\n    });\n  }\n\n  showPages(games) {\n    let abc = [];\n    console.log(games);\n\n    for (var i = 0; i < this.state.games.length; i += 4) {\n      abc.push(i);\n    }\n\n    this.setState({\n      pages: abc\n    });\n    console.log(this.state.pages);\n  }\n\n  getData(e) {\n    let page = e.target.getAttribute(\"name\");\n    axios.post(\"http://localhost:5000/games/sort/\" + this.state.typeSelected + \"/\" + this.state.sort + \"/\" + page).then(res => {\n      this.setState({\n        games: res.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"BrowserPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"combo\",\n          onChange: this.handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 0,\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 1,\n            children: \"Alphabet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2,\n            children: \"Date released\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"Low to high price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 4,\n            children: \"High to low price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: this.state.games.map(game => /*#__PURE__*/_jsxDEV(GameCard, {\n            id: game._id,\n            name: game.name,\n            image: \"https://res.cloudinary.com/amadas/image/upload/v1607146111/\" + game.images[0],\n            publisher: game.publisher,\n            price: game.price,\n            discount: game.discount\n          }, game._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), this.state.pages.map(page => /*#__PURE__*/_jsxDEV(\"a\", {\n          name: page / 4 + 1,\n          onClick: e => this.getData(e),\n          children: page / 4 + 1\n        }, page, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 53\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"CATEGORIES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), this.state.types.map(type => /*#__PURE__*/_jsxDEV(\"div\", {\n          name: type._id,\n          onClick: this.showGames,\n          children: type.name\n        }, type._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 54\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/VS Code/DA_OSS/client/src/pages/BrowserPage.js"],"names":["React","Component","axios","GameCard","Browser","constructor","props","handleChange","e","setState","sort","target","value","console","log","post","state","typeSelected","then","res","games","data","alert","catch","err","showGames","bind","showPages","getData","types","pages","document","querySelectorAll","forEach","type","style","border","getAttribute","idType","get","componentDidMount","abc","i","length","push","page","render","map","game","_id","name","images","publisher","price","discount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport '../css/BrowserPage.css'\r\nimport axios from \"axios\";\r\n\r\nimport GameCard from \"../components/GameCard\";\r\n\r\nexport default class Browser extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.showGames = this.showGames.bind(this)\r\n        this.showPages = this.showPages.bind(this)\r\n        this.getData=this.getData.bind(this)\r\n        this.state = {\r\n            types: [],\r\n            games: [],\r\n            typeSelected: 0,\r\n            pages: [],\r\n            sort:0\r\n        }\r\n    }\r\n    handleChange = e => {\r\n        this.setState({sort:e.target.value})\r\n        console.log(e.target.value)\r\n        axios\r\n            .post(\"http://localhost:5000/games/sort/\" + this.state.typeSelected + \"/\" + e.target.value )\r\n            .then((res) => {\r\n                this.setState({ games: res.data });\r\n                alert(\"Load successfully.\")\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n    async showGames(e) {\r\n        var types = document.querySelectorAll('.BrowserPage > div:last-child > div')\r\n        types.forEach(type => {\r\n            type.style.border = \"0\"\r\n        })\r\n        e.target.style.border = \"1px solid white\"\r\n        this.setState({ typeSelected: e.target.getAttribute(\"name\") })\r\n        let idType = e.target.getAttribute('name')\r\n        await axios\r\n            .get(\"http://localhost:5000/types/\" + idType)\r\n            .then((res) => {\r\n                this.setState({ games: res.data });\r\n                alert(\"Load successfully.\")\r\n            })\r\n            .catch((err) => console.log(err));\r\n        this.showPages()\r\n        axios.post(\"http://localhost:5000/games/sort/\"+idType+\"/0/1\").then(res=>{\r\n            this.setState({games: res.data})\r\n            alert(\"Load successfully.\")\r\n        })\r\n    }\r\n    async componentDidMount() {\r\n        await axios\r\n            .get(\"http://localhost:5000/types/get/names\")\r\n            .then((res) => {\r\n                this.setState({ types: res.data });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        console.log(this.state.types)\r\n        await axios\r\n            .get(\"http://localhost:5000/games/\")\r\n            .then((res) => {\r\n                this.setState({ games: res.data });\r\n                alert(\"Load successfully.\")\r\n            })\r\n            .catch((err) => console.log(err));\r\n       this.showPages(await this.state.games)\r\n       axios.post(\"http://localhost:5000/games/sort/0/0/1\").then(res=>{\r\n            this.setState({games: res.data})\r\n            alert(\"Load successfully.\")\r\n        })\r\n    }\r\n    showPages(games) {\r\n        let abc = []\r\n        console.log(games)\r\n        for (var i = 0; i < this.state.games.length; i += 4) {\r\n            abc.push(i)\r\n        }\r\n        this.setState({ pages: abc })\r\n        console.log(this.state.pages)\r\n    }\r\n     getData(e) {\r\n        let page=e.target.getAttribute(\"name\")\r\n        axios.post(\"http://localhost:5000/games/sort/\"+this.state.typeSelected+\"/\"+this.state.sort+\"/\"+page).then(res=>{\r\n            this.setState({games: res.data})\r\n        })\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"BrowserPage\">\r\n                <div>\r\n                    <select id=\"combo\" onChange={this.handleChange}>\r\n                        <option value={0}>All</option>\r\n                        <option value={1}>Alphabet</option>\r\n                        <option value={2}>Date released</option>\r\n                        <option value={3}>Low to high price</option>\r\n                        <option value={4}>High to low price</option>\r\n                    </select>\r\n                    <div className=\"row\">\r\n                        {this.state.games.map(game => \r\n                            \r\n                            (\r\n                            <GameCard key={game._id}\r\n                                id={game._id}\r\n                                name={game.name}\r\n                                image={\"https://res.cloudinary.com/amadas/image/upload/v1607146111/\" + game.images[0]}\r\n                                publisher={game.publisher}\r\n                                price={game.price}\r\n                                discount={game.discount} />\r\n                        ))}\r\n                    </div>\r\n                    {this.state.pages.map((page => (<a key={page} name={page/4+1} onClick={(e)=>this.getData(e)} >{page/4+1}</a>)))}\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <h3>CATEGORIES</h3>\r\n                    <hr />\r\n                    {this.state.types.map((type) => (<div key={type._id} name={type._id} onClick={this.showGames}>{type.name}</div>))}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}